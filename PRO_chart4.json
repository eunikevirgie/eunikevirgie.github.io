{
  "$schema": "https://vega.github.io/schema/vega-lite/v6.json",
  "title": {
    "text": "Tourism Recovery: Market Size vs. Performance",
    "subtitle": "Bubble size represents current average monthly arrivals (2024-2025)"
  },
  "width": 600,
  "height": 400,
  "data": {
    "url": "https://raw.githubusercontent.com/eunikevirgie/eunikevirgie.github.io/refs/heads/main/Project_data_processed_figure6.csv"
  },
  "layer": [
    {
      "mark": "circle",
      "encoding": {
        "x": {
          "field": "market_share_2019",
          "type": "quantitative",
          "title": "Market Share in 2019 (%)",
          "scale": {"domain": [0, 50]}
        },
        "y": {
          "field": "recovery_index",
          "type": "quantitative",
          "title": "Recovery Index (% of 2019 levels)",
          "scale": {"domain": [0, 150]}
        },
        "size": {
          "field": "arrivals_post_avg",
          "type": "quantitative",
          "title": "Current Monthly Arrivals",
          "scale": {"range": [200, 2000]}
        },
        "color": {
          "field": "market_group",
          "type": "nominal",
          "title": "Market Group",
          "scale": {"scheme": "tableau10"}
        },
        "tooltip": [
          {"field": "market_group", "type": "nominal", "title": "Market"},
          {"field": "market_share_2019", "type": "quantitative", "title": "2019 Market Share (%)", "format": ".2f"},
          {"field": "recovery_index", "type": "quantitative", "title": "Recovery Index", "format": ".1f"},
          {"field": "arrivals_post_avg", "type": "quantitative", "title": "Current Avg Arrivals", "format": ",.0f"}
        ]
      }
    },
    {
      "mark": {"type": "rule", "strokeDash": [5, 5], "color": "red", "opacity": 0.5},
      "encoding": {
        "y": {"datum": 100}
      }
    },
    {
      "mark": {"type": "text", "align": "left", "baseline": "middle", "dx": 10, "fontSize": 11, "fontWeight": "bold"},
      "encoding": {
        "x": {"field": "market_share_2019", "type": "quantitative"},
        "y": {"field": "recovery_index", "type": "quantitative"},
        "text": {"field": "market_group", "type": "nominal"}
      }
    }
  ],
  "config": {
    "axis": {"gridOpacity": 0.3},
    "view": {"strokeWidth": 0}
  }
}